(this.webpackJsonppricing=this.webpackJsonppricing||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var c=n(4),r=n(0),a=n.n(r),i=n(32),s=n.n(i),o=(n(102),n(73)),u=n.n(o),j=n(35),l=n(83),d=n(128),b=n(124),h=n(111),p=n(125),O=n(86);var m=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(),l=Object(j.a)(u,2),d=l[0],b=l[1];return[s,function(e,t){b(new O.a(e,t)),o(void 0)},n,function(e){var t;c(e),o(""===e||null===d||void 0===d||null===(t=d.search(e))||void 0===t?void 0:t.map((function(e){return e.item})))}]},f=n(13);function x(e,t){var n=e.getElementsByTagName(t);return n.length>=1&&n[0].textContent||""}var v=function e(t){Object(f.a)(this,e),this.id=void 0,this.name=void 0,this.price=void 0,this.count=void 0,this.id=x(t,"code"),this.name=x(t,"name"),this.price=x(t,"price"),this.count=x(t,"count")},g=function e(t){var n;Object(f.a)(this,e),this.names=void 0,this.products=void 0,this.names=null===(n=t.getAttribute("name"))||void 0===n?void 0:n.split("/"),this.products=Array.from(t.getElementsByTagName("product")).map((function(e){return new v(e)}))},w=function(e){var t=e.products;return Object(c.jsx)(p.a.Body,{children:t.map((function(e,t){var n=e.name,r=e.price,a=e.count;return Object(c.jsxs)(p.a.Row,{children:[Object(c.jsx)(p.a.Cell,{children:n}),Object(c.jsxs)(p.a.Cell,{children:[r," \u0433\u0440\u043d"]}),Object(c.jsx)(p.a.Cell,{children:a})]},t)}))})},y=n(127),C=function(e){var t=e.names;return Object(c.jsx)(p.a.Header,{children:Object(c.jsx)(p.a.Row,{children:Object(c.jsx)(p.a.HeaderCell,{colSpan:3,children:Object(c.jsx)(y.a,{icon:"right angle",sections:t.map((function(e){return{key:e,content:e}}))})})})})},k=function(e){var t=e.categories;return Object(c.jsx)(c.Fragment,{children:t.map((function(e,t){var n=e.names,a=e.products;return Object(c.jsxs)(r.Fragment,{children:[n&&Object(c.jsx)(C,{names:n}),Object(c.jsx)(w,{products:a})]},t)}))})};function S(){return(S=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/kivi-pu/products/master/products.xml");case 2:return t=e.sent,e.t0=new DOMParser,e.next=6,t.text();case 6:return e.t1=e.sent,n=e.t0.parseFromString.call(e.t0,e.t1,"text/xml"),e.abrupt("return",Array.from(n.getElementsByTagName("category")).map((function(e){return new g(e)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),n=t[0],a=t[1],i=m(),s=Object(j.a)(i,4),o=s[0],u=s[1],l=s[2],O=s[3];return Object(r.useEffect)((function(){(function(){return S.apply(this,arguments)})().then((function(e){a(e),u(e.map((function(e){return e.products})).flat(),{keys:["name"]})}))}),[]),Object(c.jsxs)(d.a,{basic:!0,children:[Object(c.jsx)(b.a,{fluid:!0,icon:"search",iconPosition:"left",value:l,onChange:function(e){return O(e.target.value)},action:Object(c.jsx)(h.a,{basic:!0,icon:"delete",onClick:function(){return O("")}})}),Object(c.jsxs)(p.a,{unstackable:!0,children:[Object(c.jsx)(p.a.Header,{children:Object(c.jsxs)(p.a.Row,{children:[Object(c.jsx)(p.a.HeaderCell,{children:"\u041d\u0430\u0437\u0432\u0430"}),Object(c.jsx)(p.a.HeaderCell,{children:"\u0426\u0456\u043d\u0430"}),Object(c.jsx)(p.a.HeaderCell,{children:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c"})]})}),void 0===o?n&&Object(c.jsx)(k,{categories:n}):Object(c.jsx)(w,{products:o})]})]})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.4f5cb5ba.chunk.js.map