(this.webpackJsonppricing=this.webpackJsonppricing||[]).push([[0],{110:function(t,e,n){"use strict";n.r(e);var c=n(4),r=n(0),a=n.n(r),i=n(32),s=n.n(i),o=(n(102),n(73)),u=n.n(o),j=n(35),l=n(83),d=n(128),h=n(124),b=n(111),p=n(125),O=n(86);var m=function(){var t=Object(r.useState)(""),e=Object(j.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(),i=Object(j.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(),l=Object(j.a)(u,2),d=l[0],h=l[1];return[s,function(t){h(new O.a(t)),o(void 0)},n,function(t){var e;c(t),o(""===t||null===d||void 0===d||null===(e=d.search(t))||void 0===e?void 0:e.map((function(t){return t.item})))}]},f=n(13);function x(t,e){var n=t.getElementsByTagName(e);return n.length>=1&&n[0].textContent||""}var v=function t(e){Object(f.a)(this,t),this.id=void 0,this.name=void 0,this.price=void 0,this.count=void 0,this.id=x(e,"code"),this.name=x(e,"name"),this.price=x(e,"price"),this.count=x(e,"count")},g=function t(e){var n;Object(f.a)(this,t),this.names=void 0,this.products=void 0,this.names=null===(n=e.getAttribute("name"))||void 0===n?void 0:n.split("/"),this.products=Array.from(e.getElementsByTagName("product")).map((function(t){return new v(t)}))},w=function(t){var e=t.products;return Object(c.jsx)(c.Fragment,{children:e.map((function(t,e){var n=t.name,r=t.price,a=t.count;return Object(c.jsxs)(p.a.Row,{children:[Object(c.jsx)(p.a.Cell,{children:n}),Object(c.jsxs)(p.a.Cell,{children:[r," \u0433\u0440\u043d"]}),Object(c.jsx)(p.a.Cell,{children:a})]},e)}))})},y=n(127),C=function(t){var e=t.names;return Object(c.jsx)(p.a.Row,{children:Object(c.jsx)(p.a.HeaderCell,{width:3,children:Object(c.jsx)(y.a,{icon:"right angle",sections:e.map((function(t){return{key:t,content:t}}))})})})},k=function(t){var e=t.categories;return Object(c.jsx)(c.Fragment,{children:e.map((function(t){var e=t.names,n=t.products;return Object(c.jsxs)(c.Fragment,{children:[e&&Object(c.jsx)(C,{names:e}),Object(c.jsx)(w,{products:n})]})}))})};function S(){return(S=Object(l.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://raw.githubusercontent.com/kivi-pu/products/master/products.xml");case 2:return e=t.sent,t.t0=new DOMParser,t.next=6,e.text();case 6:return t.t1=t.sent,n=t.t0.parseFromString.call(t.t0,t.t1,"text/xml"),t.abrupt("return",Array.from(n.getElementsByTagName("category")).map((function(t){return new g(t)})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var B=function(){var t=Object(r.useState)(),e=Object(j.a)(t,2),n=e[0],a=e[1],i=m(),s=Object(j.a)(i,4),o=s[0],u=s[1],l=s[2],O=s[3];return Object(r.useEffect)((function(){(function(){return S.apply(this,arguments)})().then((function(t){a(t),u(t.map((function(t){return t.products})).flat())}))}),[]),Object(c.jsxs)(d.a,{basic:!0,children:[Object(c.jsx)(h.a,{fluid:!0,icon:"search",iconPosition:"left",value:l,onChange:function(t){return O(t.target.value)},action:Object(c.jsx)(b.a,{basic:!0,icon:"delete",onClick:function(){return O("")}})}),Object(c.jsxs)(p.a,{unstackable:!0,children:[Object(c.jsx)(p.a.Header,{children:Object(c.jsxs)(p.a.Row,{children:[Object(c.jsx)(p.a.HeaderCell,{children:"\u041d\u0430\u0437\u0432\u0430"}),Object(c.jsx)(p.a.HeaderCell,{children:"\u0426\u0456\u043d\u0430"}),Object(c.jsx)(p.a.HeaderCell,{children:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c"})]})}),Object(c.jsx)(p.a.Body,{children:void 0===o?n&&Object(c.jsx)(k,{categories:n}):Object(c.jsx)(w,{products:o})})]})]})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.98916d09.chunk.js.map